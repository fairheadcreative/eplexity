//rules for plates with cakes, slices, toppings..
.plate { 
	@include clearfix;
	border: 1px solid $light-gray;
	border-radius: 3px;
	padding: 1em;
	margin: 0 $small-spacing $small-spacing;
	position: relative;
  box-shadow: 0 1px 1px rgba(0,0,0,.05);

	&.plate-small {
		max-width: 25em;
		margin: 0 auto $small-spacing;
	}

	.span-2 { @include span-columns(2); }
	.span-3 { @include span-columns(3); }
	.span-4 { @include span-columns(4); }
	.span-6 { @include span-columns(6); }
	.span-7 { @include span-columns(7); }
	.span-8 { @include span-columns(8); }
	.span-10 { @include span-columns(10); }

	.push-1 { padding-left: $base-spacing; }
	.push-2 { padding-left: $base-spacing*2; }

	.icon {
		position: absolute;
		display: block;
		height: 1.2em;
		width: 1.7em;
		border-radius: $base-border-radius;
		left: 0; 
		top: 3px;
		background: $light-gray;
	}
	
	.specs-type { 
		@include clearfix;
		@include plate-line;
	}

	.plate-details,
	.step-details,
	.step-counter,
	.step-billing {
		margin: ($small-spacing / 2) 0;
		padding: $small-spacing;
		border-radius: $base-border-radius;

		.specs-name { 
			@include clearfix;
			@include plate-line;
      font-weight: bold;

			li {
				@include span-columns(4);
			}

			li.small {
				@include span-columns(3);
			}

      &.specs-bakery {
        li { @include span-columns(4); }

        li:nth-child(3) {
          @include span-columns(2);
        }

        li:last-child {
          @include span-columns(2);
          text-align: right;
        }
      }
		}

		.value-row,
		.step-row { 
			@include clearfix;
			margin-bottom: $small-spacing;

			.value-small {
				@include span-columns(3);
			}

			.value-icon {
				position: relative;

				&:first-child { padding: 0 $small-spacing 0 $base-spacing*2; } 
			}

			.value-edit input,
			.value-edit select {
				@include span-columns(6);
				padding: $small-spacing/2;
			}

			&:last-child { 
				margin-bottom: 0;
				padding-bottom: 0;
			}

			.pick-slice {
				select,
				input {	width: 100%; }
			}
		}

		.step-row { 
			border-bottom: 1px solid $light-gray; 
			padding-bottom:  $small-spacing;

			&:last-child { border-bottom: none;  }
		}

		.actions-row {
      border-top: 1px solid rgba(0,0,0,.1);
			padding-top: $small-spacing; 
			margin-top: $small-spacing;
			@include clearfix; 

			.actions-buttons { 
				@include span-columns(8); 

				button {
					@media screen and (max-width: $small-screen) { margin-top: .5em; }
				}
			}
			.actions-link { 
				@include span-columns(4);
				line-height: 2.5;

				@media screen and (max-width: $small-screen) { 
					line-height: 1;
					padding-top: $small-spacing;
				}
			}
		}

		&[data-details="show"] {
			cursor: pointer;
			border: 1px solid transparent;
      margin: 0;

			&:hover {
				background: $bright-blue;
        border: 1px solid $bright-blue;
			}			
		}

		&[data-details="edit"] {
			padding: $small-spacing;
			background: $bright-blue;
			border: $base-border;
      border-color: #D6E1E6;
      margin: 0 0 1em;
		}
	}

	.step-billing {

	ul,
	.step-row {
		.span-4 { @include span-columns(4); }
		.span-8 { @include span-columns(8); }
		}
	}

	.ticket {
		border-radius: $base-border-radius;
		@include clearfix;

		.ticket-message {			
			border: 1px solid $light-gray;
			border-radius: $base-border-radius;
			margin-bottom: $base-spacing;

			&.user,
			&.admin {
				@include span-columns(10);
			}

			&.admin { 
				float: right;
				margin-right: 0;

				.msg-info { text-align: right; } 
			}

			.msg-info,
			.msg-text { padding: $small-spacing; }

			&.image {
				@include span-columns(5);
				border-top: 1px solid $light-gray;
				border-bottom: 1px solid $light-gray;

				.image-placeholder {
					height: 100px;
					width: 100%;
					background: $secondary-background-color;
				}
			}
		}

		.ticket-type {
			@include span-columns(10);
			padding-bottom:  $small-spacing;

			@include media-query($medium-screen) { @include span-columns(9); }

			//&:first-child { padding: 0 $small-spacing; }
		}

		.ticket-row { 
			@include clearfix;
			@include plate-line;

			&:last-child {
        border-bottom: none; 
        margin-bottom: 0;
        padding-bottom: 0;
      }

			.value-icon {
				position: relative;

				&:first-child { padding: 0 $small-spacing 0 $base-spacing*2; } 
			}
		}


	}

	.step-counter { 
		text-align: center;

		.button {

			&.increment { margin-left: $base-spacing; }
			&.decrement { margin-right: $base-spacing; }
		}
	}

	.step-right {
		text-align: right;
		float: right;
	}

	.cake,
	.slice {
		@include clearfix;
		@include plate-line;

		&:last-child { 
			border-bottom: none;
			padding-bottom: 0;
		}

		.cake-type,
		.slice-type,
		.client-type { 
			position: relative;
			@include span-columns(4);
			padding-left:  $base-spacing*2; 
		}

		.cake-specs,
		.slice-specs,
		.client-specs { @include span-columns(2); }
	}

	.ticket-post {
		@include clearfix;
		margin-bottom: $small-spacing;
		padding-top: $base-spacing;
		border-top: 1px solid $light-gray;

		.message-input { 
			@include span-columns(10); 

			@include media-query($medium-screen) { @include span-columns(9); }
		}
	}

	.specs-title { 
		@include plate-line;
	}

	&.tabbed {
		margin-top: 3.5em;

		.tabs {
			display: block;
			text-align: center;
			margin-top: -3.15em;
			white-space: nowrap;
			overflow-x: auto;
      position: relative;
      bottom: -1px;

			li {
				display: inline-block;
				border: 1px solid transparent;
				border-bottom: none;
				border-radius:  $base-border-radius  $base-border-radius 0 0;  
				padding: .25em $small-spacing;
				cursor: pointer;

				&:hover {
          background: shade(#F9F7F5, 5);
        }

				&.active { 
          border: 1px solid $light-gray;
					border-bottom: 1px solid white;
					cursor: inherit;
					background: $base-background-color;
          bottom: -1px;
				 }
			}
		}
	}
}

.bakery-row {
  clear: both;

  .value,
  .value-type { @include span-columns(4); }

  .value:nth-child(3) {
    @include span-columns(2);
  }

  input[type="text"] {
    max-width: 3em;
    display: inline-block;
    margin-right: .25em;
  }
}
